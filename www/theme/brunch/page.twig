{% extends 'markup/layouts/_master.twig' %}

{% block main %}

    {% for module in record.modules %}

        {% for modulejoin in module %}
            {% setcontent moduledata = "modules" where { 'id': modulejoin.value } %}

            {% if moduledata.template == 'module_image.twig' %}
                {% include 'markup/partials/_module_image.twig' with { 'record': moduledata, 'extended': true } %}
            {% endif %}

            {% if moduledata.template == 'module_slick.twig' %}
                {% include 'markup/partials/_module_slick.twig' with { 'record': moduledata, 'extended': true } %}
            {% endif %}

            {% if moduledata.template == 'module_text.twig' %}
                {% include 'markup/partials/_module_text.twig' with { 'record': moduledata, 'extended': true } %}
            {% endif %}

            {% if moduledata.template == 'module_block.twig' %}
                {% include 'markup/partials/_module_block.twig' with { 'record': moduledata, 'extended': true } %}
            {% endif %}

        {% endfor %}

    {% endfor %}

{% endblock main %}
